# å¾®ä¿¡å…¬ä¼—å·æ–‡ç« æŠ“å–å™¨

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« æŠ“å–å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨æŠ“å–æ–‡ç« å†…å®¹ã€ä¸‹è½½å›¾ç‰‡å¹¶è¿›è¡ŒOCRæ–‡å­—è¯†åˆ«ã€‚

## åŠŸèƒ½ç‰¹æ€§

âœ… **æ–‡ç« å†…å®¹æŠ“å–**
- è‡ªåŠ¨æå–æ–‡ç« æ ‡é¢˜
- æå–æ­£æ–‡çº¯æ–‡æœ¬å†…å®¹
- æ™ºèƒ½è¿‡æ»¤æ— å…³å†…å®¹

âœ… **å›¾ç‰‡å¤„ç†**
- è‡ªåŠ¨å‘ç°æ–‡ç« ä¸­çš„æ‰€æœ‰å›¾ç‰‡
- æ‰¹é‡ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼

âœ… **OCRæ–‡å­—è¯†åˆ«**
- ä½¿ç”¨Tesseractè¿›è¡Œä¸­æ–‡OCRè¯†åˆ«
- è‡ªåŠ¨è¯†åˆ«å›¾ç‰‡ä¸­çš„ä¸­æ–‡æ–‡å­—
- è¾“å‡ºç»“æ„åŒ–çš„è¯†åˆ«ç»“æœ

âœ… **ç»“æœå±•ç¤º**
- æ§åˆ¶å°å‹å¥½è¾“å‡º
- è¯¦ç»†çš„æ—¥å¿—è®°å½•
- ç»“æ„åŒ–çš„æ•°æ®æ ¼å¼

## å®‰è£…è¦æ±‚

### 1. Pythonç¯å¢ƒ
- Python 3.7+
- pipåŒ…ç®¡ç†å™¨

### 2. ç³»ç»Ÿä¾èµ–

#### macOS (æ¨èä½¿ç”¨Homebrew)
```bash
# å®‰è£…Tesseractå’Œä¸­æ–‡è¯­è¨€åŒ…
brew install tesseract
brew install tesseract-lang

# éªŒè¯å®‰è£…
tesseract --version
tesseract --list-langs
```

#### Ubuntu/Debian
```bash
# å®‰è£…Tesseractå’Œä¸­æ–‡è¯­è¨€åŒ…
sudo apt update
sudo apt install tesseract-ocr
sudo apt install tesseract-ocr-chi-sim

# éªŒè¯å®‰è£…
tesseract --version
tesseract --list-langs
```

#### Windows
1. ä¸‹è½½å¹¶å®‰è£… [Tesseract for Windows](https://github.com/UB-Mannheim/tesseract/wiki)
2. ä¸‹è½½ä¸­æ–‡è¯­è¨€åŒ… `chi_sim.traineddata`
3. å°†è¯­è¨€åŒ…æ”¾å…¥Tesseractå®‰è£…ç›®å½•çš„`tessdata`æ–‡ä»¶å¤¹
4. å°†Tesseractæ·»åŠ åˆ°ç³»ç»ŸPATHç¯å¢ƒå˜é‡

### 3. Pythonä¾èµ–åŒ…
```bash
# å®‰è£…æ‰€æœ‰ä¾èµ–
pip install -r requirements.txt

# æˆ–è€…æ‰‹åŠ¨å®‰è£…
pip install requests beautifulsoup4 lxml Pillow pytesseract
```

## ä½¿ç”¨æ–¹æ³•

### 1. åŸºæœ¬ä½¿ç”¨
```python
from wechat_article_scraper import WeChatArticleScraper

# åˆ›å»ºæŠ“å–å™¨å®ä¾‹
scraper = WeChatArticleScraper()

# æŠ“å–æ–‡ç« 
article_url = "https://mp.weixin.qq.com/s/w0h03IsxfSrour3NpE_FqA"
article_info = scraper.process_article(article_url)

# è¾“å‡ºç»“æœ
scraper.print_results(article_info)
```

### 2. å‘½ä»¤è¡Œè¿è¡Œ
```bash
# ç›´æ¥è¿è¡Œè„šæœ¬
python wechat_article_scraper.py

# æˆ–è€…æŒ‡å®šPythonç‰ˆæœ¬
python3 wechat_article_scraper.py
```

### 3. è‡ªå®šä¹‰é…ç½®
```python
# è‡ªå®šä¹‰å›¾ç‰‡ä¸‹è½½ç›®å½•
scraper = WeChatArticleScraper(output_dir="my_images")

# è‡ªå®šä¹‰è¯·æ±‚å¤´
scraper.headers.update({
    'User-Agent': 'ä½ çš„è‡ªå®šä¹‰User-Agent'
})
```

## è¾“å‡ºç»“æœ

è„šæœ¬è¿è¡Œåä¼šè¾“å‡ºä»¥ä¸‹ä¿¡æ¯ï¼š

1. **æ–‡ç« æ ‡é¢˜** - æ–‡ç« çš„å®Œæ•´æ ‡é¢˜
2. **æ–‡ç« é“¾æ¥** - åŸå§‹æ–‡ç« URL
3. **æ­£æ–‡å†…å®¹** - æå–çš„çº¯æ–‡æœ¬å†…å®¹ï¼ˆå‰500å­—ç¬¦é¢„è§ˆï¼‰
4. **å›¾ç‰‡ä¿¡æ¯** - æ‰€æœ‰å›¾ç‰‡çš„URLã€æè¿°å’Œæ ‡é¢˜
5. **OCRç»“æœ** - æ¯å¼ å›¾ç‰‡çš„æ–‡å­—è¯†åˆ«ç»“æœ

## æ–‡ä»¶ç»“æ„

```
wparticle/
â”œâ”€â”€ wechat_article_scraper.py  # ä¸»è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ requirements.txt            # ä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ README.md                  # ä½¿ç”¨è¯´æ˜
â””â”€â”€ downloaded_images/         # å›¾ç‰‡ä¸‹è½½ç›®å½•ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
```

## æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æé†’**
- è¯·éµå®ˆç½‘ç«™çš„robots.txtå’Œä½¿ç”¨æ¡æ¬¾
- ä¸è¦è¿‡äºé¢‘ç¹åœ°è¯·æ±‚ï¼Œå»ºè®®æ·»åŠ é€‚å½“çš„å»¶è¿Ÿ
- æŸäº›æ–‡ç« å¯èƒ½éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®
- OCRè¯†åˆ«æ•ˆæœå–å†³äºå›¾ç‰‡è´¨é‡å’Œæ–‡å­—æ¸…æ™°åº¦

ğŸ”§ **æ•…éšœæ’é™¤**

1. **OCRè¯†åˆ«å¤±è´¥**
   - æ£€æŸ¥Tesseractæ˜¯å¦æ­£ç¡®å®‰è£…
   - ç¡®è®¤ä¸­æ–‡è¯­è¨€åŒ…æ˜¯å¦å®‰è£…
   - éªŒè¯å›¾ç‰‡æ–‡ä»¶æ˜¯å¦æŸå

2. **ç½‘ç»œè¯·æ±‚å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤æ–‡ç« é“¾æ¥æ˜¯å¦æœ‰æ•ˆ
   - å¯èƒ½éœ€è¦æ›´æ–°User-Agent

3. **å†…å®¹æå–å¤±è´¥**
   - å¾®ä¿¡å…¬ä¼—å·å¯èƒ½æ›´æ–°äº†é¡µé¢ç»“æ„
   - å°è¯•æ›´æ–°CSSé€‰æ‹©å™¨
   - æ£€æŸ¥é¡µé¢æ˜¯å¦åŠ è½½å®Œæ•´

## æŠ€æœ¯æ¶æ„

- **ç½‘ç»œè¯·æ±‚**: requests + Session
- **HTMLè§£æ**: BeautifulSoup4 + lxml
- **å›¾åƒå¤„ç†**: Pillow (PIL)
- **OCRè¯†åˆ«**: pytesseract + Tesseract
- **æ—¥å¿—è®°å½•**: Python loggingæ¨¡å—

## æ›´æ–°æ—¥å¿—

- v1.0.0: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬æŠ“å–å’ŒOCRåŠŸèƒ½
- æ”¯æŒå¤šç§å›¾ç‰‡æ ¼å¼
- æ™ºèƒ½å†…å®¹æå–
- å®Œæ•´çš„é”™è¯¯å¤„ç†

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ï¼Œè¯·éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’Œç½‘ç«™ä½¿ç”¨æ¡æ¬¾ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªé¡¹ç›®ï¼

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ—¥å¿—è¾“å‡ºæˆ–æäº¤Issueã€‚ 